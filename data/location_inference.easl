(struct VertexOutput
  @builtin position: vec4f
  corner-pos: vec2f)

@vertex
(defn vertex [@builtin vertex-index: u32
              @builtin instance-index: u32]: VertexOutput
  (let [corner (match vertex-index
                 0 (vec2f -1.)
                 1 (vec2f -1. 3.)
                 _ (vec2f 3. -1.))]
    (VertexOutput (vec4f corner 0. 1.) corner)))

@fragment
(defn fragment [in: VertexOutput]: vec4f
  (vec4f in.corner-pos 0. 1.))
